document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll("h2:not(.widow-fix-off)"),t=document.querySelectorAll(".widow-fix-on");new Set([...e,...t]).forEach(e=>{const t=e.innerHTML.replace(/(\w)-(\w)/g,"$1&#8209;$2").trim().split(" ");t.length>2&&(t[t.length-2]+="&nbsp;"+t[t.length-1],t.pop(),e.innerHTML=t.join(" "))})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("menu-trigger"),t=document.body;document.documentElement;let n=0;function o(){t.classList.add("menu-closing"),t.classList.remove("menu-open","menu-locked"),t.style.top="",window.scrollTo(0,n),setTimeout(()=>{t.classList.remove("menu-closing")},400)}e?.addEventListener("click",function(){t.classList.contains("menu-open")?o():(n=window.scrollY,t.style.top=`-${n}px`,t.classList.add("menu-open","menu-locked"))}),window.addEventListener("resize",function(){window.innerWidth>=992&&t.classList.contains("menu-open")&&o()})}),window.addEventListener("load",function(){setTimeout(()=>{const e=document.body;e.classList.contains("menu-locked")&&!e.classList.contains("menu-open")&&(e.classList.remove("menu-locked"),e.style.top="")},300)}),window.addEventListener("pageshow",function(){document.body.classList.remove("menu-open"),document.documentElement.classList.remove("no-scroll")}),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".video-wrapper"),t=e=>{e&&"0"!==e.style.opacity&&(e.style.opacity="0",setTimeout(()=>e.remove(),600))},n=(e,n,o)=>{e.muted=!0;const s=e.play();void 0!==s&&s.then(()=>{n&&(n.style.display="none"),o&&(o.style.display="none"),e.style.display="block",e.readyState>=3?t(n):e.addEventListener("playing",()=>t(n),{once:!0})}).catch(()=>{e.setAttribute("controls",!0),e.classList.add("needs-play-button"),n&&(n.style.display="block"),o&&(o.style.display="block"),e.style.display="none",o?.addEventListener("click",()=>{e.style.display="block",n&&(n.style.display="none"),o.style.display="none",e.removeAttribute("controls"),e.controls=!1,e.play()},{once:!0})})},o=new IntersectionObserver(e=>{e.forEach(e=>{if(!e.isIntersecting)return;const t=e.target,o=t.querySelector("video"),s=t.querySelector(".video-fallback-img"),c=t.querySelector(".video-play-btn");o.dataset.autoplayHandled||(o.dataset.autoplayHandled=!0,n(o,s,c))})},{threshold:.6});e.forEach(e=>{const t=e.querySelector("video");if(!t)return;const s=e.querySelector(".video-fallback-img"),c=e.querySelector(".video-play-btn"),i=t.classList.contains("video-hero"),l=t.classList.contains("media-item");i?(n(t,s,c),t.dataset.autoplayHandled=!0):l&&o.observe(e)}),function(){const e=performance.getEntriesByType("navigation")[0]?.type;"back_forward"!==e&&document.querySelectorAll("video.reset-on-load").forEach(e=>{e.pause(),e.currentTime=0})}()}),document.addEventListener("DOMContentLoaded",function(){const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.paused&&t.play().catch(()=>{})}else e.target.pause()})},{threshold:.5});document.querySelectorAll("video.play-on-scroll").forEach(t=>e.observe(t))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".media-item"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.style.transition="opacity 0.9s cubic-bezier(0.4, 0, 0.2, 1), transform 0.9s cubic-bezier(0.4, 0, 0.2, 1)",n.style.opacity="1",n.style.transform="translateY(0)",t.unobserve(n)}})},{threshold:.15});e.forEach(e=>t.observe(e))});